import{j as e}from"./index-Dhaj73MD.js";import{b as d,R as c,L as m,C as h,X as p,Y as x,T as f,h as u,e as j}from"./recharts-ChCBSFcT.js";import"./papaparse-DHZrpM8D.js";const i=s=>new Date(s).toLocaleDateString("en-US",{month:"short",year:"numeric"}),y=({series:s})=>{const o=d.useMemo(()=>{const t=new Map;return s.forEach(r=>{r.points.forEach(a=>{if(a.navPerUnit===null)return;const n=a.date;t.has(n)||t.set(n,{date:n}),t.get(n)[r.fundId]=a.navPerUnit})}),Array.from(t.values()).sort((r,a)=>new Date(r.date).getTime()-new Date(a.date).getTime())},[s]);return e.jsxs("div",{className:"panel",children:[e.jsxs("div",{className:"panel__header",children:[e.jsx("h2",{children:"NAV per unit trend"}),e.jsx("span",{className:"panel__helper",children:"Latest 5 funds with historical data"})]}),o.length?e.jsx("div",{className:"panel__chart",children:e.jsx(c,{width:"100%",height:360,children:e.jsxs(m,{data:o,margin:{top:16,right:16,bottom:8,left:8},children:[e.jsx(h,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(p,{dataKey:"date",tickFormatter:i,minTickGap:24}),e.jsx(x,{tickFormatter:t=>`TZS ${Number(t).toLocaleString("en-US",{maximumFractionDigits:Number(t)<100?1:0})}`,width:90}),e.jsx(f,{labelFormatter:t=>i(t),formatter:(t,r)=>{const a=s.find(l=>l.fundId===r),n=a?a.label:r;return typeof t!="number"?["n/a",n]:[`TZS ${t.toLocaleString("en-US",{maximumFractionDigits:t<100?2:0})}`,n]},contentStyle:{borderRadius:12,borderColor:"#e2e8f0"}}),e.jsx(u,{verticalAlign:"top",height:36}),s.map(t=>e.jsx(j,{type:"monotone",dataKey:t.fundId,name:t.label,stroke:t.color,strokeWidth:2,dot:!1,activeDot:{r:5},connectNulls:!0},t.fundId))]})})}):e.jsx("div",{className:"panel__empty",children:"NAV trend data will appear once the feed is loaded."})]})};export{y as default};
