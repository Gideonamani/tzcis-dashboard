import{j as e}from"./index-Dx4eljYe.js";import{R as l,e as c,C as o,X as d,Y as p,T as h,L as m,d as t,f as u}from"./recharts-878huj0o.js";import"./papaparse-DHZrpM8D.js";const n=r=>r==null?"n/a":`TZS ${r.toLocaleString("en-US",{maximumFractionDigits:r<100?2:r<1e3?1:0})}`,x={salePrice:"Sale price",repurchasePrice:"Repurchase price",navPerUnit:"NAV / unit"},b=({snapshots:r})=>{const i=r.filter(a=>a.salePrice!==null||a.repurchasePrice!==null).map(a=>({label:a.label,salePrice:a.salePrice,repurchasePrice:a.repurchasePrice,navPerUnit:a.navPerUnit}));return e.jsxs("div",{className:"panel",children:[e.jsxs("div",{className:"panel__header",children:[e.jsx("h2",{children:"Sale vs repurchase window"}),e.jsx("span",{className:"panel__helper",children:"Latest published prices per fund"})]}),i.length?e.jsx("div",{className:"panel__chart",children:e.jsx(l,{width:"100%",height:360,children:e.jsxs(c,{data:i,layout:"vertical",margin:{top:16,right:24,bottom:16,left:0},children:[e.jsx(o,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(d,{type:"number",tickFormatter:n,domain:["auto","auto"]}),e.jsx(p,{dataKey:"label",type:"category",width:140}),e.jsx(h,{formatter:(a,s)=>[typeof a=="number"?n(a):"n/a",x[s]??s],contentStyle:{borderRadius:12,borderColor:"#e2e8f0"}}),e.jsx(m,{verticalAlign:"top",height:36}),e.jsx(t,{dataKey:"salePrice",name:"Sale price",fill:"#0ea5e9",radius:[6,6,6,6],barSize:16}),e.jsx(t,{dataKey:"repurchasePrice",name:"Repurchase price",fill:"#2563eb",radius:[6,6,6,6],barSize:16}),e.jsx(u,{type:"monotone",dataKey:"navPerUnit",name:"NAV / unit",stroke:"#0f172a",strokeWidth:2,dot:{r:4,strokeWidth:2,stroke:"#fff"}})]})})}):e.jsx("div",{className:"panel__empty",children:"Price spreads will display once NAV data loads."})]})};export{b as default};
